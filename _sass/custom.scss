/* ============================================================
   GEAR Lab — Full Website Dark Mode
   For Minimal Mistakes Theme + Publications details/summary
   ============================================================ */

/* ========= Base Dark Mode Toggle Class ========= */
body.dark-mode,
.dark-mode {
  background-color: #000 !important;
  color: #e5e5e5 !important;
}

/* ========= Global Text Color Correction ========= */
body.dark-mode p,
body.dark-mode li,
body.dark-mode td,
body.dark-mode th,
body.dark-mode span,
body.dark-mode strong,
body.dark-mode em {
  color: #e5e5e5 !important;
}

/* ========= Links ========= */
body.dark-mode a {
  color: #66aaff !important;
}

body.dark-mode a:hover {
  color: #99cfff !important;
}

/* ========= Top Navigation / Masthead ========= */
body.dark-mode .masthead,
body.dark-mode .greedy-nav,
body.dark-mode .site-title {
  background-color: #111 !important;
  color: #eee !important;
}

body.dark-mode .greedy-nav a,
body.dark-mode .masthead a {
  color: #eee !important;
}

/* ========= Footer ========= */
body.dark-mode .page__footer,
body.dark-mode footer {
  background: #111 !important;
  color: #ccc !important;
}

/* ========= Content Areas ========= */
body.dark-mode .page__content,
body.dark-mode .page__inner-wrap,
body.dark-mode .page,
body.dark-mode .initial-content {
  background: #000 !important;
  color: #e5e5e5 !important;
}

/* ========= Sidebar Author Card ========= */
body.dark-mode .author__avatar img {
  filter: brightness(0.8) !important;
}

body.dark-mode .author__content,
body.dark-mode .author__urls-wrapper,
body.dark-mode .author__urls li,
body.dark-mode .author__bio {
  background: transparent !important;
  color: #e5e5e5 !important;
}

/* ========= Buttons ========= */
body.dark-mode .btn,
body.dark-mode .btn--inverse {
  background: #222 !important;
  color: #ffffff !important;
  border-color: #444 !important;
}

body.dark-mode .btn:hover {
  background: #444 !important;
}

/* ========= Tables ========= */
body.dark-mode table,
body.dark-mode thead,
body.dark-mode tbody {
  background: #111 !important;
  color: #e5e5e5 !important;
}

body.dark-mode td,
body.dark-mode th {
  border-color: #333 !important;
}

/* ========= Code Blocks ========= */
body.dark-mode .highlight,
body.dark-mode pre,
body.dark-mode code {
  background: #111 !important;
  color: #e6e6e6 !important;
}

/* ========= Details / Summary (Publications Page) ========= */
body.dark-mode details {
  background: #090909 !important;
  border: 1px solid #333 !important;
}

body.dark-mode details summary {
  color: #f0f0f0 !important;
  background: #111 !important;
  padding: 10px;
  cursor: pointer;
  font-weight: bold;
}

body.dark-mode details[open] summary {
  background: #151515 !important;
}

body.dark-mode details ul {
  background: #000 !important;
  padding: 10px 20px !important;
  color: #ddd !important;
}

/* ========= Horizontal Rules ========= */
body.dark-mode hr {
  border-color: #333 !important;
}

/* ========= Category / Tag Pages ========= */
body.dark-mode .taxonomy__index a {
  background: #111 !important;
  color: #e5e5e5 !important;
  border-color: #333 !important;
}

/* ========= Pagination ========= */
body.dark-mode .pagination {
  background: #111 !important;
}

body.dark-mode .pagination li a {
  background: #222 !important;
  color: #e5e5e5 !important;
  border-color: #333 !important;
}

/* ========= Search Box (if enabled later) ========= */
body.dark-mode .search__toggle {
  color: #fff !important;
}

/* ========= Images ========= */
body.dark-mode img {
  filter: brightness(0.85) !important;
}

/* ========= Cards (Portfolio, Teaching, etc.) ========= */
body.dark-mode .feature__item,
body.dark-mode .archive__item {
  background: #111 !important;
  border-color: #333 !important;
  color: #eee !important;
}

/* ========= Blockquotes ========= */
body.dark-mode blockquote {
  background: #111 !important;
  border-left-color: #444 !important;
  color: #ddd !important;
}


/* --------------------------- */
/* 1. 防止页面整体宽度被缩小导致 sidebar 进入 mobile 模式 */
/* --------------------------- */
.page {
  max-width: 1200px !important;  // 可调整：1100–1400 都可以
  margin-left: auto;
  margin-right: auto;
}

/* --------------------------- */
/* 2. 让 sidebar 在 ≥768px 时始终采用桌面布局，而不是堆叠模式 */
/* --------------------------- */
@media (min-width: 768px) {
  .sidebar {
    position: sticky;
    top: 2rem;
    width: 260px !important;
    max-width: 260px !important;
  }

  /* sidebar 内部元素防止挤压换行 */
  .author__avatar img {
    max-width: 120px;
    height: auto;
  }

  .author__content,
  .author__urls-wrapper {
    max-width: 240px;
  }
}

/* --------------------------- */
/* 3. 避免字体过大导致布局判定为“窄屏” */
/* --------------------------- */
html {
  font-size: 16px !important;
}

/* --------------------------- */
/* 4. 避免长链接或图标撑破 sidebar 导致布局塌陷 */
/* --------------------------- */
.sidebar a {
  word-break: break-word;
}

